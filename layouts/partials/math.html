    <!-- MATH Rendering -->
    
    {{ if eq .Params.math true  }}  

        {{ if eq .Site.Params.math_library "mathjax"  }}  

            {{ if eq .Site.Params.js_privacy false }} 
                <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
                <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
            {{ else}}
                <script src="/mathjax/tex-chtml.js" id="MathJax-script" async></script> 
            {{ end }}
        {{ end }}

        {{ if eq .Site.Params.math_library "katex"  }} 
            {{ if eq .Site.Params.js_privacy false }} 
                <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous">
                <script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js" integrity="sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4" crossorigin="anonymous"></script>
                <script defer src="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js" integrity="sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC+Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa" crossorigin="anonymous" ></script>
            
            {{ else}}
                <link rel="stylesheet" href="/katex/katex.min.css" >
                <script defer src="/katex/katex.min.js" ></script>
                <script defer src="/katex/auto-render.min.js"></script>

            {{ end }}
                <script>
                    document.addEventListener("DOMContentLoaded", function() {
                        renderMathInElement(document.body, {
                          // customised options
                          // • auto-render specific keys, e.g.:
                          delimiters: [
                              {left: '$$', right: '$$', display: true},
                              {left: '\\(', right: '\\)', display: false},
                              {left: '\\[', right: '\\]', display: true}
                          ],
                          // • rendering keys, e.g.:
                          throwOnError : false,
                       //   output: "mathml",
                          trust: true
                        });
                    });
                </script>
            
        {{ end }}
   

    {{ end }}
